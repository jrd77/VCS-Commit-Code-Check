<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.atzuche.order.renterorder.mapper.OrderChangeItemMapper">

	<resultMap type="com.atzuche.order.renterorder.entity.dto.OrderChangeItemDTO" id="BaseResultMap">
        <result property="orderNo" column="order_no"/>
        <result property="renterOrderNo" column="renter_order_no"/>
        <result property="changeCode" column="change_code"/>
        <result property="changeName" column="change_name"/>
    </resultMap>


	<sql id="Base_Column_List">
        `order_no`,
        `renter_order_no`,
        `change_code`,
        `change_name`
	</sql>


	<select id="listChangeCodeByRenterOrderNo" resultType="String">
		select change_code from order_change_item where renter_order_no = #{renterOrderNo}
		and is_delete = 0
	</select>
	
	
	<insert id="saveOrderChangeItemBatch">
      INSERT INTO order_change_item
		(
				`order_no`,		
				`renter_order_no`,		
				`change_code`,		
				`change_name`	
			)
      VALUES
      <foreach collection="changeItemList" item="changeItem" separator=",">
      (#{changeItem.orderNo},#{changeItem.renterOrderNo},#{changeItem.changeCode},#{changeItem.changeName})
      </foreach>
     </insert>
  	
</mapper>