<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.atzuche.com.renterwz.mapper.MqSendFeelbackLogMapper">
	<sql id="select_column">
		id,msg_id,queue_name,msg,status,send_time,feelback_time,feelback_code,feelback_msg,create_time,update_time
	</sql>

	<resultMap id = "selectColumnMap" type="com.atzuche.order.renterwz.entity.MqSendFeelbackLogEntity">
		<result property="id" column="id"/>
		<result property="msgId" column="msg_id"/>
		<result property="queueName" column="queue_name"/>
		<result property="msg" column="msg"/>
		<result property="status" column="status"/>
		<result property="sendTime" column="send_time"/>
		<result property="feelbackTime" column="feelback_time"/>
		<result property="feelbackCode" column="feelback_code"/>
		<result property="feelbackMsg" column="feelback_msg"/>
		<result property="createTime" column="create_time"/>
		<result property="updateTime" column="update_time"/>
	</resultMap>

	<insert id="saveMqSendFeelbackLog" parameterType="com.atzuche.order.renterwz.entity.MqSendFeelbackLogEntity" useGeneratedKeys="true" keyProperty="id" keyColumn="id">
		insert into mq_send_feelback_log(
			<if test="msgId != null">
				msg_id,
			</if>
			<if test="queueName != null">
				queue_name,
			</if>
			<if test="msg != null">
				msg,
			</if>
			<if test="status != null">
				status,
			</if>
			<if test="sendTime != null">
				send_time,
			</if>
			<if test="feelbackTime != null">
				feelback_time,
			</if>
			<if test="feelbackCode != null">
				feelback_code,
			</if>
			<if test="feelbackMsg != null">
				feelback_msg,
			</if>
			<if test="updateTime != null">
				update_time,
			</if>
			create_time
		) values (
			<if test="msgId != null">
				#{msgId},
			</if>
			<if test="queueName != null">
				#{queueName},
			</if>
			<if test="msg != null">
				#{msg},
			</if>
			<if test="status != null">
				#{status},
			</if>
			<if test="sendTime != null">
				#{sendTime},
			</if>
			<if test="feelbackTime != null">
				#{feelbackTime},
			</if>
			<if test="feelbackCode != null">
				#{feelbackCode},
			</if>
			<if test="feelbackMsg != null">
				#{feelbackMsg},
			</if>
			<if test="updateTime != null">
				#{updateTime},
			</if>
			NOW())
	</insert>

	<select id="queryMqSendFeelbackLogById" resultType="com.atzuche.order.renterwz.entity.MqSendFeelbackLogEntity">
		select <include refid="select_column" />
		from mq_send_feelback_log
		where id = #{id} and is_delete = 0
	</select>

	<select id="queryList" resultType="com.atzuche.order.renterwz.entity.MqSendFeelbackLogEntity">
		select <include refid="select_column" />
		from mq_send_feelback_log
		where is_delete = 0
	</select>

	 <update id="updateMqSendFeelbackLog" parameterType="com.atzuche.order.renterwz.entity.MqSendFeelbackLogEntity">
		update mq_send_feelback_log set
		<if test="msgId != null">
			msg_id = #{msgId},
		</if>
		<if test="queueName != null">
			queue_name = #{queueName},
		</if>
		<if test="msg != null">
			msg = #{msg},
		</if>
		<if test="status != null">
			status = #{status},
		</if>
		<if test="sendTime != null">
			send_time = #{sendTime},
		</if>
		<if test="feelbackTime != null">
			feelback_time = #{feelbackTime},
		</if>
		<if test="feelbackCode != null">
			feelback_code = #{feelbackCode},
		</if>
		<if test="feelbackMsg != null">
			feelback_msg = #{feelbackMsg},
		</if>
		<if test="createTime != null">
			create_time = #{createTime},
		</if>
		update_time = NOW()
		where id = #{id} and is_delete = 0
	</update>

	 <update id="deleteMqSendFeelbackLogById" parameterType="java.lang.Long">
		update mq_send_feelback_log set
		is_delete = 1,
		update_time = NOW()
		where id = #{id} and is_delete = 0
	</update>

</mapper>
